---
import Lenis from '@studio-freight/lenis';

export const ScrollState = {
  top: 0,
  progress: 0,
};

const lenis = new Lenis({
  duration: 1.2,
  easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // https://www.desmos.com/calculator/brs54l4xou
  orientation: 'vertical', // vertical, horizontal
  gestureOrientation: 'vertical', // vertical, horizontal, both
  smoothWheel: true,
  smoothTouch: false,
  touchMultiplier: 2,
  infinite: false,
});

lenis.on('scroll', ({ scroll, progress }: { scroll: number; progress: number }) => {
  ScrollState.top = scroll;
  ScrollState.progress = progress;
});
---

<div
  id="wrapper"
  style={{
    position: 'absolute',
    overflowX: 'hidden',
    width: '100%',
    height: '100%',
    top: 0,
  }}
>
  <div
    id="content"
    style={{
      position: 'relative',
      minHeight: '200vh',
    }}
  >
    <slot />
  </div>
</div>
